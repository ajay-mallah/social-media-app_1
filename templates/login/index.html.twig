{% extends 'base_login.html.twig' %}

{% block title %}
    Login
{% endblock %}

{% block javascripts %}
    <script src={{ asset('assets/js/login.js') }}></script>
{% endblock %}

{% block form %}
    <div class="login-form" >
        <p class="error" id="response-msg"></p>
        <form class="login-verify flex-column enable" action={{ "http://#{app.request.host}/login" }} method="post">
            <div class="form-row d-flex flex-column px-2">
                <label for="email">
                    <span id="email-btn">email</span> or <span id="username-btn" class="text-primary">username</span>
                    </label>
                <input type="email" name="uid" id="uid" title='email' placeholder ="email ...">
                <p id="error-uid" class="text-danger error"></p>
            </div>
            <div class="form-row d-flex flex-column px-2">
                <label for="password">password</label>
                <input type="password" name="password" id="password">
                <p id="error-password" class="text-danger error"></p>
            </div>
            <div class="form-row d-flex justify-content-center px-2">
                <button type="submit" name="login" class="btn w-100 d-flex justify-content-center align-items-center"><span class="text">login</span> <span class="loader-btn"></span></button>
            </div>

            <div class="form-row or px-2">
                <p>or</p>
            </div>
            <div class="form-row d-flex px-2">
                <p>forgot password ? <a href={{ "http://#{app.request.host}/reset" }}>reset</a> </p>
            </div>
            <div class="form-row d-flex px-2">
                <p>new to chirpTalk ? <a href={{ "http://#{app.request.host}/register" }}>register</a> </p>
            </div>
        </form>
        <form class="verify-otp flex-column" action={{ "http://#{app.request.host}/login" }} method="post">
            <div class="form-row d-flex flex-column px-2">
                <label for="otp">OTP</label>
                <input type="text" name="otp" id="otp">
            </div>
            <div class="form-row d-flex justify-content-center px-2">
                <button type="submit" name="verify-otp" class="btn w-100 d-flex justify-content-center align-items-center"><span class="text">verify otp</span> <span class="loader-btn"></span></button>
            </div>
            <div class="form-row d-flex px-2">
                <p>haven't recieved OTP key ? <a href="#" id="resend">resend</a> <span class="resend-loading text-primary">loading...</span> <span id="resend-time">resend after <strong id="remain-time">10s</strong> </span></p>
            </div>
        </form>
    </div>
{% endblock %}